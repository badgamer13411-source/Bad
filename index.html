<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-site-verification" content="R8ngVXj9NJWcmV8qsFQggnrcJjnSdFsS55-0uHT4fms" />
    <title>ProEarn Official - Safe & Secure</title>
    <style>
        :root { --primary: #00ff00; --bg: #0a0a0a; --card: #161616; --blue: #007bff; }
        body { font-family: 'Poppins', sans-serif; background: var(--bg); color: white; margin: 0; text-align: center; }
        .page { display: none; padding: 20px; min-height: 100vh; flex-direction: column; align-items: center; justify-content: center; }
        .active { display: flex; }
        .card { background: var(--card); padding: 30px; border-radius: 25px; width: 90%; max-width: 350px; border: 1px solid #333; position: relative; }
        input { width: 90%; padding: 12px; margin: 10px 0; border-radius: 10px; border: 1px solid #444; background: #222; color: white; }
        .btn { width: 100%; padding: 15px; border-radius: 50px; border: none; font-weight: bold; cursor: pointer; margin-top: 10px; font-size: 16px; transition: 0.3s; }
        .btn-blue { background: var(--blue); color: white; }
        .btn:disabled { background: #444; cursor: not-allowed; }
        .balance { font-size: 40px; color: var(--primary); font-weight: bold; margin: 20px 0; }
        #timerDisplay { position: absolute; top: 15px; right: 15px; background: rgba(255, 0, 0, 0.8); padding: 5px 15px; border-radius: 20px; font-size: 14px; font-weight: bold; display: none; border: 1px solid white; }
        .progress-bar { width: 0%; height: 8px; background: var(--primary); border-radius: 5px; transition: 1s linear; margin-top: 10px; }
    </style>
</head>
<body>

    <div id="homePage" class="page active">
        <h1 style="color: var(--primary);">ProEarn</h1>
        <p>Wallet Balance is Saved Automatically! ðŸ”’</p>
        <img src="https://cdn-icons-png.flaticon.com/512/2489/2489756.png" width="120" style="margin: 20px;">
        <button class="btn btn-blue" onclick="checkExistingUser()">Get Started</button>
    </div>

    <div id="loginPage" class="page">
        <div class="card">
            <h2>Login</h2>
            <input type="email" id="uEmail" placeholder="Email Address">
            <input type="password" id="uPass" placeholder="Create Password">
            <button class="btn btn-blue" onclick="saveLogin()">Next Step</button>
        </div>
    </div>

    <div id="dashPage" class="page">
        <div class="card">
            <div id="timerDisplay">Wait: <span id="secs">30</span>s</div>
            <div style="font-size: 10px; color: var(--primary); margin-top: 10px;">SECURE WALLET âœ…</div>
            <h2>Total Wallet</h2>
            <div class="balance">â‚¹<span id="balDisp">0.00</span></div>
            
            <div id="pCont" style="display:none; background:#333; border-radius:5px; margin-bottom:15px;">
                <div id="pBar" class="progress-bar"></div>
            </div>
            
            <button class="btn btn-blue" id="adBtn" onclick="watchAd()">Watch Video Ad (â‚¹0.50)</button>
            <button class="btn" style="background: #ff4444; color:white; margin-top:15px;" onclick="alert('Minimum Withdrawal â‚¹200')">Withdraw Cash</button>
            <button class="btn" style="background: #333; color:#aaa; font-size: 10px;" onclick="logout()">Logout / Reset</button>
        </div>
    </div>

    <script>
        let bal = parseFloat(localStorage.getItem('proEarnBalance')) || 0.0;
        const myAdLink = "https://www.effectivegatecpm.com/vughxc0v?key=602f39b05878d3f11c2c26d53e7d5568";

        // Check if user is already logged in
        function checkExistingUser() {
            if(localStorage.getItem('proEarnUser')) {
                updateBalanceDisplay();
                showPage('dashPage');
            } else {
                showPage('loginPage');
            }
        }

        function showPage(id) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById(id).classList.add('active');
        }

        function saveLogin() {
            let email = document.getElementById('uEmail').value;
            if(email.includes('@')) {
                localStorage.setItem('proEarnUser', email);
                showPage('dashPage');
            } else { alert("Valid Email Please!"); }
        }

        function updateBalanceDisplay() {
            document.getElementById('balDisp').innerText = bal.toFixed(2);
        }

        function watchAd() {
            window.open(myAdLink, '_blank');
            let btn = document.getElementById('adBtn');
            let timerDiv = document.getElementById('timerDisplay');
            let secsDisp = document.getElementById('secs');
            let pBar = document.getElementById('pBar');
            let pCont = document.getElementById('pCont');

            btn.disabled = true;
            timerDiv.style.display = 'block';
            pCont.style.display = 'block';
            
            let timeLeft = 30;
            secsDisp.innerText = timeLeft;
            pBar.style.width = '0%';

            let countdown = setInterval(() => {
                timeLeft--;
                secsDisp.innerText = timeLeft;
                pBar.style.width = (((30 - timeLeft) / 30) * 100) + '%';

                if(timeLeft <= 0) {
                    clearInterval(countdown);
                    timerDiv.style.display = 'none';
                    pCont.style.display = 'none';
                    btn.disabled = false;
                    
                    // SAVE TO LOCALSTORAGE
                    bal += 0.50;
                    localStorage.setItem('proEarnBalance', bal);
                    updateBalanceDisplay();
                    alert("â‚¹0.50 Saved Safely!");
                }
            }, 1000);
        }

        function logout() {
            if(confirm("Logout karne se details clear ho sakti hain. Continue?")) {
                localStorage.clear();
                location.reload();
            }
        }

        // Initial Display
        updateBalanceDisplay();
    </script>
</body>
</html>
